# 웹 렌더링이란
웹이 서버에게 요청해 받은 내용을 화면에 나타내는 작업이다.
<br> 즉, 웹 서버로부터 HTML, CSS, JavaScript 문서를 전달받아 브라우저 엔진이 각각의 문서를 해석한 후 화면에 렌더링 시켜준다.
<br> 예시로 크롬 브라우저에 접속해 주소창에 naver.com을 입력한다면 브라우저는 naver의 서버로부터 웹 사이트에 대한 정보를 받아 브라우저 화면에 나타나게 되는 것이다.
<br> 이러한 웹 렌더링을 크게  **클라이언트 사이드 렌더링**(Client-Side Renderling, CSR)과 **서버 사이드 렌더링**(SSR)방식으로 나누어진다.

<br> 웹 렌더링 방식은 애플리케이션의 **성능**, **UX**, **SEO**(Searching Engine Optimization)에 직접적인 영향을 미치고 있으며 개발하고자 하는 서비스의 특성에 따라 장단점을 고려해 결정을 할 수 있다.

<br> 이번 TIL에선 프론트엔드로 작업을 하면서 궁금했던 부분들을 해소하고, CSR과 SSR을 이해해보려고 한다.

<br>

### 목차
- CSR vs SSR : 웹 렌더링 방식의 선택
- SPA vs MPA : 웹 애플리케이션의 구조적 선택

<br>

## 각각의 방식이 애플리케이션에서 어떻게 구현되는가?
### Client-Side Renderling
CSR은 웹 애플리케이션이 클라이언트(사용자의 브라우저)에서 페이지를 렌더링하는 방식이다.
프레임워크나 라이브러리(React, Vue.js, Angular)를 사용하여, 클라이언트 측에서 페이지 콘텐츠가 동적으로 생성된다.

<br> **구현 방식**
- 초기 로딩 : 서버는 기본적으로 빈 HTML 페이지와 함께 JavaScript 파일을 전달한다. 이 HTML에는 일반적으로 `<div id = app></div>`같은 빈 요소가 포함된다.
- JavaScript 로드 및 실행 : 브라우저가 JavaScript 파일을 다운로드하고 실행하면, 이 파일이 API 호출을 통해 데이터를 가져오고, 그 데이터를 바탕으로 DOM을 구성하여 화면에 표시한다.
- 페이지 전환 : SPA(Single Page Application)에서 CSR을 사용하는 경우, 페이지 전환은 클라이언트 측에서 처리된다. 서버로 추가적인 HTML 요청 없이, JavaScript가 페이지를 동적으로 전환하여 페이지 간 전환 시간이 200~300ms로 매우 짧다.

<br> **장점**
- 빠른 페이지 전환 : CSR은 초기 로딩 후, 전체 페이지를 로드하지 않고 필요한 부분만 업데이트 하므로 페이지 전환이 부드럽다.
- 빠른 인터렉션 : JavaScript를 초기 로딩 시 불러오므로, 사용자의 행동에서 즉각적인 피드백, 애니메이션 전환 효과, SPA의 UX 증가 등의 이점을 가질 수 있다.
<br> ex) 양식 유효성 검사, 전자 상거래 사이트 등에서의 필터링과 정렬 기능

<br> **단점**
- SEO 문제 : 초기 로딩 시 HTML의 기본 구조만 보내기에 HTML파일이 거의 비어있으며, JavaScript가 실행되지 않으면 검색 엔진이 페이지 콘텐츠를 인식하지 못할 수 있다.
- 초기 로딩 속도 : 초기 로딩 시 JavaScript의 번들 파일을 다운로드하고 실행하는데 시간이 걸릴 수 있어, 사용자가 첫 화면을 보는데 상대적으로 오래걸릴 수 있다. 이는 사용자 이탈율을 높이는데 관여한다.

<br> **주요 사용 서비스**
- Single Page Applications(SPAs) : 대화형 웹 애플리케이션, 예를 들어 소셜 미디어 플랫폼(Instar, Twitter), 프로젝트 관리 도구(Trello), 데이터 시각화 도구 등
- 웹 기반 게임 : 즉각적인 사용자 상호작용이 중요한 서비스
- 상호작용(Time to Interactive, TTI)이 중요한 웹 앱 : 사용자가 많은 인터렉션을 하는 웹 애플리케이션, 예를 들어 전자 상거래 웹사이트(Amazone)의 제품 필터링 기능 등

<br>

### Servier-Side Renderling
SSR은 웹 애플리케이션의 페이지를 서버에서 미리 렌더링하여 완성된 HTML을 클라이언트에게 전달하는 방식이다. 클라이언트는 즉시 렌더링된 HTML을 받아 화면에 표시하며, JavaScript는 이후에 로드되어 상호작용을 처리한다.

<br> **구현 방식**
- 초기 요청 : 사용자가 페이지를 요청하면, 서버가 해당 요청을 처리하여 필요한 데이터를 가져오고, 그 데이터를 포함한 HTML을 렌더링하여 클라이언트에게 전달한다.
- HTML 전달 : 클라이언트는 서버로부터 완성된 HTML을 받기 때문에, 브라우저는 즉시 콘텐츠를 렌더링할 수 있다. CSR로 구성된 페이지를 SSR로 변경 하면 로딩 속도가 평균 40% 개선된다고 한다.
- JavaScript 실행 : 브라우저는 HTML을 먼저 렌더링하고, 이후에 JavaScript를 로드하여 인터랙션을 가능하게 만든다. React나 Vue.js 같은 프레임워크는 이 단계에서 클라이언트 측에서 재활성화(Hydration)을 수행한다.
<br> * **Hydration** - 서버에서 미리 렌더링된 HTML을 클라이언트 측에서 가져와, 클라이언트 측 JavaScript가 해당 HTML과 연결되어 상호작용을 가능하게 만드는 과정

<br> **장점**
- 빠른 초기 로딩 : 사용자가 페이지를 요청하자마자 서버에서 미리 HTML 파일을 제공하므로, 초기 로딩속도(First Contentful Paint, FCP)가 빠르다. 초기 로딩이 빠름에 따라 SEO 성과와 사용자 만족도를 동시에 향상 시킬 수 있는 기술이다.
- SEO 친화적 : 완성도니 HTML이 검색 엔진 크롤러에 의해 쉽게 인덱싱 될 수 있어, SEO 성능이 향상된다. Google이나 Wego의 연구에 따르면 SSR은 검색 순위를 10% 이상 향상시킨다고 한다.

<br> **단점**
- 서버 부하 증가 : 서버가 각 요청에 대해 HTML을 동적으로 생성해야 하므로, 서버에 부하가 발생 할 수 있다. 고트래픽 웹 사이트에서는 서버 부하를 분산 하기 위해 추가적인 인프라가 필요 할 수 있다.
- 복잡한 구현 : SSR은 CSR에 비해 구현이 복잡할 수 있으며, 개발 비용과 유지 보수 비용에 큰 영향을 미친다.

<br> **주요 사용 서비스**
- 컨텐츠 중심 웹사이트 : 뉴스 사이트(Newyork Times), 블로그  
- 기업 웹사이트: 포트폴리오 사이트, 브랜드 홍보 페이지 등, 초기 로딩 속도와 SEO가 중요한 경우
- e-커머스: SEO 최적화가 중요한 온라인 쇼핑몰 (예: Shopify), 제품 페이지가 검색엔진에서 높은 순위를 유지해야 하는 사이트

<br>
<br>

## Continue..
웹 서비스의 구동 방식이 간단할 것이라고 생각하진 않았지만, 기존에 짤막하게 알고있던 상식들은 아주 큰 빙산의 일각인걸 느꼈고 주제를 분할하여 정리하는게 더욱 효율적이라고 판단했다.

<br>

SPA vs MPA : 웹 애플리케이션의 구조적 선택으로 이동..

